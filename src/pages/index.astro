---
import { DotLottieVue } from '@lottiefiles/dotlottie-vue'
import { Image } from 'astro:assets'
import imageService from '../assets/images/homepage/services.jpg'
import ButtonMain from '../components/ButtonMain.astro'
import DefaultLayout from '../layouts/DefaultLayout.astro'
import WavesDesktop from '../components/waves/wavesDesktop.astro'
import WavesMobile from '../components/waves/wavesMobile.astro'

const solutions = [
  {
    title: 'IngÃ©nierie',
    lottiePath: '/assets/lottie/ingenieurie.lottie',
    link: '/services/entreprises/ingenierie-formation',
  },
  {
    title: 'Coaching',
    lottiePath: '/assets/lottie/coaching.lottie',
    link: '/services/particuliers/coaching',
  },
  {
    title: 'Formations',
    lottiePath: '/assets/lottie/formation.lottie',
    link: '/services/entreprises/creation-de-formation',
  },
]

const testimonialsRow1 = [
  {
    name: 'CÃ©cilia B-T',
    rating: 5,
    title: 'PROXI - PrÃ©sidente',
    content: `Je retiendrais l'action "coup de poing" de formation management des Directeurs que tu avais brillamment animÃ©e ğŸ™‚, et tant d'autres projets...
      Encore merci pour ton dynamisme et ta bonne humeur; Â« <b>Pep's Consult</b> Â» te va bien !! Je te souhaite le meilleur ! `,
  },
  {
    name: 'Florence W',
    rating: 5,
    title: 'Particulier',
    content: `Je nâ€™oublierais jamais les heures de formation avec toi, ton sourire et ta gentillesse sans relÃ¢che Ã  chaque formation !! 
      <br>Merci dâ€™avoir Ã©gayÃ© ma vie professionnelle ...`,
  },
  {
    name: 'Jalal A',
    rating: 5,
    title: 'ARAMCO - StratÃ©gie DÃ©veloppement',
    content: `Jâ€™ai eu le plaisir de travailler avec toi pour promouvoir la formation et le coaching des Ã©quipes Argedis.
      <br>Au nom de lâ€™Ã©quipe Campus et de lâ€™Ã©quipe NMM, merci beaucoup pour le travail accompli et pour ta collaboration. Bonne chance ğŸ˜Š.`,
  },
  {
    name: 'Renaud C',
    rating: 5,
    title: 'TOTALENERGIES - Directeur',
    content: `Je tiens Ã  te remercier pour les diffÃ©rentes formations effectuÃ©es avec toiâ€¦ Ce fut un plaisir.
      Jâ€™en retiens ta disponibilitÃ© ta bienveillance ton partage de connaissance et surtout ta gentillesse.
      Pour tout cela un grand MERCI ğŸ˜‰`,
  },
]

const testimonialsRow2 = [
  {
    name: 'Nicolas C',
    rating: 5,
    title: 'Formateur',
    content: `J'ai eu la chance ğŸ˜‰ de suivre la formation de formateur dispensÃ©e par <b>Pep's Consult</b>. 
      Lâ€™expertise de Nada, sa maÃ®trise et connaissance de lâ€™exercice permet dâ€™Ãªtre trÃ¨s vite Ã  lâ€™aise lors de lâ€™animation des sessions. 
      Son accompagnement, notamment au niveau de lâ€™explication des guides dâ€™animation, permet de comprendre le dÃ©coupage et lâ€™objectif de chaque formation. 
      Nada donne Ã©galement des trucs et astuces afin de garder attentif son auditoire tout au long dâ€™une journÃ©e de formation. 
      Ses feedbacks permettent Ã©galement de sâ€™amÃ©liorer au fur et Ã  mesure des animations.
      Elle sait Ã©galement sâ€™appuyer sur les points forts de ses formateurs, et leur donne Ã©galement la libertÃ© de pouvoir mettre leur patte dans lâ€™animation. 
      Comme pour ses stagiaires, Nada met Ã©galement les formateurs en situation en leur permettant dâ€™animer leur formation Â« Ã  blanc Â» et elle joue le rÃ´le des apprenants. 
      Ce qui permet dâ€™anticiper les questions que peuvent poser ces derniers, et dâ€™Ãªtre opÃ©rationnel le jour J.
      <br>Je ne saurai que conseiller <b>Pep's Consult</b> pour votre projet de devenir Formateur.`,
  },
  {
    name: 'Anne Catherine L',
    rating: 5,
    title: 'Particulier',
    content: `Je partage avec plaisir que tes formations, Nada, sont structurÃ©es donc structurantes avec des documents de synthÃ¨se... 
      Top ! Ton accompagnement nous rassure, Ã  lâ€™Ã©coute de nos questionnements. 
      Jâ€™ai ainsi rÃ©ussi Ã  Ã©crire mon mÃ©moire sur le commerce et dâ€™Ãªtre efficace devant le jury Ã  lâ€™oral.
      Cela mâ€™a permis dâ€™obtenir ma VAE sans faille. Un grand Merci je nâ€™oublierais jamais nos Ã©changes ğŸ˜‰`,
  },
  {
    name: 'Nathalie R',
    rating: 5,
    title: 'Particulier',
    content: `Dans un moment de doute, lors dâ€™une prise de dÃ©cision sur ma carriÃ¨re, Nada, tu mâ€™as aidÃ© Ã  clarifier mon objectif et me mettre de nouveau en action. 
      Nous avons mis en forme mon CV et travaillÃ© sur lâ€™entretien dâ€™embauche. Chaque Ã©tape me redonnait Ã  mesure que lâ€™on avanÃ§ait une grande confiance en moi ! 
      Milles merci ğŸ˜‰ pour ton Ã©coute et ta bienveillanceâ€¦ Un bel accompagnement je recommande `,
  },
]
---

<DefaultLayout title="Accueil">
  <section class="container relative my-12 flex min-h-[60vh] flex-col items-center justify-center lg:min-h-[50vh]">
    <h1 class="mb-10 text-2xl font-bold md:mb-6 lg:text-3xl xl:text-4xl">Pepâ€™s Consult</h1>
    <p class="text-center text-base font-medium lg:text-lg">
      Votre <span class="text-primary">rÃ©ussite</span> commence ici, des formations <span class="text-primary"
        >sur mesure</span
      > pour chaque ambition.
    </p>
    <ButtonMain text="Prendre rendez-vous" href="/contact" class="mt-20 h-10 md:mt-10 md:h-[60px] md:px-10" />
    <div
      class="pointer-events-none absolute left-0 top-[10vh] -z-10 hidden w-full scale-[3] opacity-50 waves:block sm:scale-150 md:scale-110 lg:scale-125 xl:scale-150"
    >
      <WavesDesktop />
    </div>
    <div class="pointer-events-none absolute left-0 top-[10vh] -z-10 w-full scale-[2.2] opacity-50 waves:hidden">
      <WavesMobile />
    </div>
  </section>

  <section class="container relative my-12 mt-28 flex flex-col items-center justify-center lg:mt-60">
    <h2 class="mb-10 mr-auto w-full max-w-[868px] text-lg font-bold md:text-xl xl:text-2xl">
      Des solutions adaptÃ©es pour chaque Ã©tape de votre parcours
    </h2>
    <div class="flex w-full items-stretch justify-center gap-12 max-md:flex-col lg:gap-24">
      {
        solutions.map((solution) => (
          <a href={solution.link} class="flex flex-col items-center justify-end gap-4 lg:gap-6">
            <DotLottieVue
              client:load
              class="size-[300px] md:size-[200px] lg:size-[250px] xl:size-[350px]"
              autoplay
              loop
              src={solution.lottiePath}
            />
            <h3 class="text-lg font-bold text-primary">{solution.title}</h3>
          </a>
        ))
      }
    </div>
  </section>

  <section class="container relative my-12 mt-28 flex flex-col items-center justify-center lg:mt-48">
    <h2 class="mb-10 mr-auto w-full max-w-[868px] text-lg font-bold md:text-xl xl:text-2xl">
      Un service sur mesure, un engagement total&nbsp;: <br class="max-md:hidden" /> voici pourquoi me choisir
    </h2>
    <div class="flex items-stretch justify-between gap-10 max-md:flex-col md:gap-12 xl:gap-24">
      <div class="flex flex-col gap-4">
        <article>
          <h3 class="font-satoshi font-bold text-primary">Une Expertise ComplÃ¨te :</h3>
          <p>
            Avec une solide expÃ©rience en ingÃ©nierie de formation, coaching, et formation de formateurs, je vous apporte
            un <b>savoir-faire</b> Ã©prouvÃ© pour <b>transformer vos dÃ©fis en opportunitÃ©s de croissance</b>.
          </p>
        </article>
        <article>
          <h3 class="font-satoshi font-bold text-primary">Une Approche sur Mesure :</h3>
          <p>
            Chaque projet est unique. Je conÃ§ois des <b>solutions pÃ©dagogiques adaptÃ©es Ã  vos besoins spÃ©cifiques</b>,
            en utilisant des mÃ©thodes innovantes comme la ludopÃ©dagogie et les outils pÃ©dagogiques interactifs pour
            maximiser l'engagement et l'<b>efficacitÃ© de vos formations</b>.
          </p>
        </article>
        <article>
          <h3 class="font-satoshi font-bold text-primary">Une Vision Innovante :</h3>
          <p>
            Je suis constamment Ã  l'affÃ»t des derniÃ¨res tendances en <b>formation et pÃ©dagogie</b>. Que ce soit pour
            reformater vos <b>formations existantes ou crÃ©er de nouveaux programmes</b>, je mets un point d'honneur Ã 
            intÃ©grer les
            <b>meilleures pratiques pour des rÃ©sultats concrets</b>.
          </p>
        </article>
        <article>
          <h3 class="font-satoshi font-bold text-primary">Un Engagement Total :</h3>
          <p>
            Votre rÃ©ussite est ma prioritÃ©. Je m'investis pleinement dans <b>chaque projet</b>, en mettant Ã  votre
            service mon Ã©coute, ma rÃ©activitÃ©, et mon <b>accompagnement personnalisÃ©</b> pour vous garantir une expÃ©rience
            enrichissante et des rÃ©sultats durables.
            <br /> Choisir de travailler avec moi, c'est opter pour une partenaire dÃ©diÃ©e Ã  l'amÃ©lioration continue de vos
            compÃ©tences et de vos outils pÃ©dagogiques. <b
              >Ensemble, nous bÃ¢tirons des formations qui font la diffÃ©rence</b
            >.
          </p>
        </article>
      </div>
      <div class="md:sticky md:top-6 md:min-w-[260px] md:max-w-[260px] xl:min-w-[434px] xl:max-w-[434px]">
        <Image src={imageService} alt="Services illustration" class="h-auto w-full" draggable="false" />
      </div>
    </div>
  </section>
  <section class="relative my-12 mt-28 flex flex-col items-center justify-center lg:mt-48">
    <div class="container">
      <h2 class=" mb-10 ml-0 mr-auto w-full max-w-[868px] text-lg font-bold md:text-xl xl:text-2xl">
        La satisfaction de mes clients, ma plus grande rÃ©ussite
      </h2>
    </div>

    <div class="flex flex-col items-stretch max-w-full">
      {[
        { testimonials: testimonialsRow1, direction: "left" },
        { testimonials: testimonialsRow2, direction: "right" },
      ].map(({ testimonials, direction }) => (
        <div class="testimonials" data-direction={direction} data-speed="slow">
          <div class="testimonials-inner hide-scrollbar max-lg:items-stretch">
            {testimonials.map((testimonial) => (
              <article class="flex flex-col overflow-hidden rounded-2xl flex-1 min-w-[350px] lg:min-w-[600px] lg:min-h-fit lg:max-h-[700px] border-2 border-tertiary shadow-lg shadow-black/10 p-6">
                <h3 class="text-lg font-bold">{testimonial.name}</h3>
                <h4 class="font-satoshi text-lg font-bold">{testimonial.title}</h4>
                <div class="my-3 flex gap-1">
                  {Array.from({ length: testimonial.rating }).map((_, i) => (
                    <svg
                      width="24"
                      height="22"
                      viewBox="0 0 24 22"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M11.0489 0.927049C11.3483 0.0057385 12.6517 0.00573993 12.9511 0.927051L14.9187 6.98278C15.0526 7.3948 15.4365 7.67376 15.8697 7.67376H22.2371C23.2058 7.67376 23.6086 8.91338 22.8249 9.48278L17.6736 13.2254C17.3231 13.4801 17.1764 13.9314 17.3103 14.3435L19.2779 20.3992C19.5773 21.3205 18.5228 22.0866 17.7391 21.5172L12.5878 17.7746C12.2373 17.5199 11.7627 17.5199 11.4122 17.7746L6.2609 21.5172C5.47719 22.0866 4.42271 21.3205 4.72206 20.3992L6.68969 14.3435C6.82356 13.9314 6.6769 13.4801 6.32642 13.2254L1.17511 9.48278C0.391392 8.91338 0.794168 7.67376 1.76289 7.67376H8.13026C8.56349 7.67376 8.94744 7.3948 9.08132 6.98278L11.0489 0.927049Z"
                        fill="#F5D70E"
                      />
                    </svg>
                  ))}
                </div>
                <p class="text-base max-lg:line-clamp-[10] overflow-hidden text-ellipsis" set:html={testimonial.content} />
              </article>
            ))}
          </div>
        </div>
      ))}
    </div>

    <div class="container">
      <ButtonMain text="Prendre rendez-vous" href="/contact" class="w-fit mx-auto mt-20 h-10 md:mt-10 md:h-[60px] md:px-10" />
    </div>

  </section>
</DefaultLayout>

<script defer>

const scrollers = document.querySelectorAll(".testimonials");

// If a user hasn't opted in for recuded motion, then we add the animation
if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
  addAnimation();
}

function addAnimation() {
  scrollers.forEach((scroller) => {
    scroller.setAttribute("data-animated", true);

    // Make an array from the elements within `.scroller-inner`
    const scrollerInner = scroller.querySelector(".testimonials-inner");
    const scrollerContent = Array.from(scrollerInner.children);

    // For each item in the array, clone it
    // add aria-hidden to it
    // add it into the `.scroller-inner`
    scrollerContent.forEach((item) => {
      const duplicatedItem = item.cloneNode(true);
      duplicatedItem.setAttribute("aria-hidden", true);
      scrollerInner.appendChild(duplicatedItem);
    });
  });
}


</script>
